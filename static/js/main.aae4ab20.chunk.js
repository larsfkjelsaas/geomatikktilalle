(this.webpackJsonpgeomatikktilalle=this.webpackJsonpgeomatikktilalle||[]).push([[0],{215:function(e){e.exports=JSON.parse('{"trondheim":{"lng":10.4,"lat":63.42,"zoom":12.3},"oslo":{"lng":10.7445,"lat":59.9225,"zoom":12.12}}')},225:function(e,a,t){e.exports=t(445)},445:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),l=t(93),i=t(94),c=t(107),s=t(95),u=t(108),y=t(46),d=t(47);function p(){var e=Object(y.a)(["\n  display: grid;\n  height: 100vh;\n  grid-template-columns: 400px 250px 1fr;\n  grid-template-rows: 10% 1fr;\n"]);return p=function(){return e},e}var m=d.a.div(p()),f=t(494),g=t(479),E=t(480),v=t(38),b=t.n(v),h=t(66),O=t(476),L=t(218),x=t(22),j=t(18),T=t(19),R=t(28);function C(e,a,t){for(var n=arguments.length,r=new Array(n>3?n-3:0),o=3;o<n;o++)r[o-3]=arguments[o];var l=e.map((function(e){return a.indexOf(e.name)<0?e:t(e,r)}));return console.log(l),l}function S(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"new_geometry",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";function r(e,a){return void 0===a.find((function(a){return a.name===e}))}a.name&&"new_geometry"===t&&(t=a.name);for(var o=t+=n,l=r(t,e.layers),i=1;!l;)t=o+"_"+i,i+=1,l=r(t,e.layers);return t}function A(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"new";return a.displayName=a.name,a.color=e.activeColor,a.visible=!0,e=Object(R.a)({},e,{layers:[a].concat(Object(T.a)(e.layers)),triggeredAnalysis:[].concat(Object(T.a)(e.triggeredAnalysis),[t])})}var _=t(216),k=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"meters",n=Object(_.a)(e,a,{units:t});return n},D=t(195),N=t.n(D),I=function(e,a){var t={type:"FeatureCollection",features:[]};return console.log(e),e.geometry.features.forEach((function(e){a.geometry.features.forEach((function(a){var n=N()(e,a);null!==n&&(t.features=[].concat(Object(T.a)(t.features),[n]))}))})),t},w=t(217),G=function(e){var a=e;return a.features=e.features.filter((function(e){return"Polygon"===e.geometry.type})),Object(w.a)(a)},z=t(97),M=function(e){var a=e;a.forEach((function(e){return e.features=e.features.filter((function(e){return"Polygon"===e.geometry.type}))})),console.log(a);var t=a.reduce((function(e,a){return[].concat(Object(T.a)(e),Object(T.a)(a.features))}),[]);return console.log(t),z.a.apply(void 0,Object(T.a)(t))};function F(e){var a=[];return e.selectedLayers.forEach((function(t){var n=e.layers.find((function(e){return e.name===t})),r={layer:n,index:e.layers.indexOf(n)};a=[].concat(Object(T.a)(a),[r])})),a}var P,Y,W=(P={selectedAnalysis:"buffer",triggeredAnalysis:[],expandedLayer:-1,selectedLayers:[],layers:[],layersToDelete:[],layerToMove:-1,activeColor:"#001eff"},Y={ANALYSIS_CHOSEN:function(e,a){return Object(R.a)({},e,{selectedAnalysis:a.payload,triggeredAnalysis:[].concat(Object(T.a)(e.triggeredAnalysis),[a.payload])})},ANALYSIS_TRIGGERED:function(e,a){if(!a.payload.type)return e;switch(a.payload.type.toLowerCase()){case"buffer":return function(e,a){var t=a.payload.value;return 0===e.selectedLayers.length?(alert("Please select a feature first"),e):(e.selectedLayers.forEach((function(a){var n=e.layers.find((function(e){return e.name===a})),r=e.layers.indexOf(n),o=e.layers[r].geometry,l=k(o,t),i=e.layers[r].name.substring(0,8);i=S(e,o,i,"_buffer"),e=A(e,{geometry:l,name:i,type:"polygon"},"buffer")})),e)}(e,a);case"intersection":return function(e,a){if(2!==e.selectedLayers.length)return alert("Select two layers to do an intersection"),e;var t=e.layers.find((function(a){return a.name===e.selectedLayers[0]})),n=e.layers.indexOf(t),r=e.layers[n],o=e.layers.find((function(a){return a.name===e.selectedLayers[1]})),l=e.layers.indexOf(o),i=e.layers[l];if("polygon"!==r.type||"polygon"!==i.type)return alert("Both layers selected must be polygons"),e;var c=I(r,i),s=e.layers[n].name.substring(0,5)+"_"+e.layers[l].name.substring(0,5);return s=S(e,r,s,"_intersect"),e=A(e,{geometry:c,name:s,type:"polygon"},"intersect")}(e);case"dissolve":return function(e,a){if(1!==e.selectedLayers.length)return alert("Please choose exactly one layer to dissolve"),e;var t=e.layers.find((function(a){return a.name===e.selectedLayers[0]})),n=e.layers.indexOf(t),r=t.geometry;if(console.log(r.type),"FeatureCollection"!==r.type)return alert("Dissolve requires a FeatureCollection layer to be selected"),e;var o=G(r),l=e.layers[n].name.substring(0,8);return l=S(e,r,l,"_dissolve"),e=A(e,{geometry:o,name:l,type:"polygon"},"dissolve")}(e);case"union":return function(e,a){if(e.selectedLayers.length<2)return alert("Select at least two layers to do an union"),e;var t=F(e);t.forEach((function(a){if("polygon"===a.layer.type)return alert("All layers selected must be polygon layers"),e}));var n=t.map((function(e){return e.layer.geometry})),r=M(n),o="union";return o=S(e,t[0].layer,o),e=A(e,{geometry:r,name:o,type:"polygon"},"union")}(e);case"difference":return function(e,a){return 2!==e.selectedLayers.length?(alert("Select two layers to do a difference"),e):(F(e),e)}(e);default:return console.log("Selected analysis is invalid"),e}},GEOMETRY_CREATE_TRIGGERED:function(e,a){var t=a.payload;return A(e,{geometry:t,name:S(e,t),type:t.features[0].geometry.type.toLowerCase()})},GEOMETRY_DELETE_STARTED:function(e,a){var t=e.layers.find((function(e){return e.name===a.payload}));return Object(R.a)({},e,{layersToDelete:[].concat(Object(T.a)(e.layersToDelete),[t])})},GEOMETRY_DELETE_FINALIZED:function(e,a){return Object(R.a)({},e,{layers:e.layers.filter((function(a){return a.name!==e.layersToDelete[0].name})),layersToDelete:[]})},LAYER_EXPANDED:function(e,a){var t=a.payload;return e.expandedLayer===t&&(t=-1),Object(R.a)({},e,{expandedLayer:t})},LAYER_SELECTED:function(e,a){var t=a.payload,n=Array.from(e.selectedLayers),r=n.indexOf(t);return r>=0?n.splice(r,1):n=[].concat(Object(T.a)(n),[t]),Object(R.a)({},e,{selectedLayers:n})},DATA_LIST_REARRANGED:function(e,a){var t=a.payload,n=t.destination,r=t.source,o=function(e,a,t){var n=Array.from(e),r=e[a];return n.splice(a,1),n.splice(t,0,r),n}(e.layers,r.index,n.index),l=e.expandedLayer;return r.index===l&&(l=n.index),Object(R.a)({},e,{layers:o,expandedLayer:l,layerToMove:n.index})},LAYERS_REARRANGED_DONE:function(e,a){return Object(R.a)({},e,{layerToMove:-1})},COLOR_CHANGE:function(e,a){var t=a.payload,n=C(e.layers,e.selectedLayers,(function(e,a){var t=a[0];return Object(R.a)({},e,{color:t})}),t);return Array.from(e),Object(R.a)({},e,{layers:n,activeColor:t})},LAYER_VISIBILITY_TRIGGER:function(e,a){var t=C(e.layers,[a.payload],(function(e){var a=!e.visible;return Object(R.a)({},e,{visible:a})}));return e=Object(R.a)({},e,{layers:t})}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,a=arguments.length>1?arguments[1]:void 0;return Y.hasOwnProperty(a.type)?Y[a.type](e,a):e}),V=Object(j.c)({geometry:W}),H=t(197),B=t.n(H),J=Object(j.e)(V,{},Object(j.a)(B.a)),U=function(e){return{type:"ANALYSIS_TRIGGERED",payload:e}},X=(Object(j.b)({analysisChoosen:function(e){return{type:"ANLYSIS_CHOOSEN",payload:e}},analysisTriggered:U},J.dispatch),function(e){return{type:"GEOMETRY_DELETE_STARTED",payload:e}}),Z=function(){return{type:"GEOMETRY_DELETE_FINALIZED"}},q=function(e){return{type:"LAYER_EXPANDED",payload:e}},Q=function(e){return{type:"LAYER_SELECTED",payload:e}},K=function(e){return{type:"COLOR_CHANGE",payload:e}},$=function(e){return{type:"DATA_LIST_REARRANGED",payload:e}},ee=function(e){return{type:"LAYER_VISIBILITY_TRIGGER",payload:e}},ae=(Object(j.b)({geometryCreateNew:function(e){return{type:"GEOMETRY_CREATE_TRIGGERED",payload:e}},geometryStartDeletion:X,geomatryFinalizeDeletion:Z,expandLayer:q,selectLayer:Q,selectColor:K,dataLayerDragEnd:$,layerVisibilityTrigger:ee},J.dispatch),function(e){return{type:"GEOMETRY_CREATE_TRIGGERED",payload:JSON.parse(e)}}),te=(Object(j.b)({fileUploaded:ae},J.dispatch),{fileUploaded:ae}),ne=Object(x.b)(null,te)((function(e){var a=e.fileUploaded,t=e.accept,n=Object(L.a)({onDrop:function(e){if(e&&e[0]){var t=new FileReader,n=e[0];t.onloadend=function(){a(t.result)},t.readAsText(n)}},accept:t}),o=n.getRootProps,l=n.getInputProps,i=n.isDragActive;return r.a.createElement("div",o(),r.a.createElement("input",Object.assign({className:"dropzone-input"},l())),r.a.createElement("div",{className:"text-center"},i?r.a.createElement("p",{className:"dropzone-content"},"Release to drop the files here"):r.a.createElement("p",{className:"dropzone-content"},"Drag 'n' drop some files here, or click to select files")))})),re=Object(O.a)((function(e){return{root:{width:"100%"},details:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),oe=function(){var e=re();return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,null,r.a.createElement(g.a,{expandIcon:r.a.createElement(b.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,{className:e.heading},"Add new layers")),r.a.createElement(E.a,{className:e.details},r.a.createElement(ne,{accept:"application/json"}))))},le=t(484),ie=t(73),ce=t(481),se=t(491),ue=t(482),ye=t(483),de=Object(O.a)((function(e){return{root:{width:"100%"},details:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),pe=function(e){var a=e.name,t=e.index,n=e.geometryStartDeletion,o=e.expandLayer,l=e.selectLayer,i=e.expandedLayer,c=e.layerVisibilityTrigger,s=de();return r.a.createElement(ie.b,{draggableId:a,index:t},(function(e){return r.a.createElement(f.a,Object.assign({},e.draggableProps,e.dragHandleProps,{innerRef:e.innerRef,expanded:t===i,onChange:function(){return o(t)}}),r.a.createElement(g.a,{expandIcon:r.a.createElement(b.a,null),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header"},r.a.createElement(ce.a,{"aria-label":"Select",onClick:function(e){"checkbox"===e.target.type&&l(a),e.stopPropagation()},onFocus:function(e){e.stopPropagation()},control:r.a.createElement(se.a,null),label:a})),r.a.createElement(E.a,null,r.a.createElement(ue.a,{className:s.actions},r.a.createElement(ye.a,{size:"small",onClick:function(){return alert("Renaming not yet implemented")}},"Rename"),r.a.createElement(ye.a,{size:"small",onClick:function(){return c(a)}},"Toggle visibility"),r.a.createElement(ye.a,{size:"small",onClick:function(){return n(a)}},"Delete"))))}))},me=Object(O.a)((function(e){return{root:{width:"100%"},details:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),fe={geometryStartDeletion:X,expandLayer:q,selectLayer:Q,dataLayerDragEnd:$,layerVisibilityTrigger:ee},ge=Object(x.b)((function(e){return{expandedLayer:e.geometry.expandedLayer,layers:e.geometry.layers}}),fe)((function(e){var a=e.expandedLayer,t=e.layers,n=e.geometryStartDeletion,o=e.expandLayer,l=e.selectLayer,i=e.dataLayerDragEnd,c=e.layerVisibilityTrigger,s=me();return r.a.createElement("div",{className:s.root},r.a.createElement(f.a,null,r.a.createElement(g.a,{expandIcon:r.a.createElement(b.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,{className:s.heading},"Layers")),r.a.createElement(ie.a,{onDragEnd:function(e){var a=e.destination,t=e.source;a&&(a.droppableId===t.droppableId&&a.index===t.index||i(e))}},r.a.createElement(E.a,{className:s.details},r.a.createElement(le.a,null,r.a.createElement(ie.c,{droppableId:"datasetMenu"},(function(e){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps,{provided:e}),t.map((function(e,t){return r.a.createElement(pe,{className:"layer",key:e.name,name:e.name,index:t,geometryStartDeletion:n,expandLayer:o,selectLayer:l,expandedLayer:a,layerVisibilityTrigger:c})})),e.placeholder)})))))))})),Ee=t(489),ve=t(486),be=t(487),he=t(488),Oe=t(211),Le=t.n(Oe),xe=t(210),je=t.n(xe),Te=t(213),Re=t.n(Te),Ce=t(212),Se=t.n(Ce),Ae=t(138),_e=t(209),ke=t.n(_e),De=t(493),Ne=t(485),Ie=t(490),we=Object(O.a)((function(e){return{form:{"& > *":{margin:e.spacing(1),width:200}}}}));function Ge(e){var a=we(),t=e.onClose,n=e.selectedValue,o=e.open,l=r.a.useState(50),i=Object(Ae.a)(l,2),c=i[0],s=i[1];return r.a.createElement(De.a,{onClose:function(){t(n)},"aria-labelledby":"simple-dialog-title",open:o},r.a.createElement(Ne.a,{id:"simple-dialog-title"},"Set size of buffer"),r.a.createElement("form",{className:a.form,noValidate:!0,autoComplete:"off"},r.a.createElement(Ie.a,{id:"outlined-basic",label:"meters",variant:"outlined",type:"number",onChange:function(e){return s(e.target.value)}})),r.a.createElement(ye.a,{onClick:function(){t(c)}},"Done"))}var ze=function(e){var a=e.analysisTriggered,t=r.a.useState(!1),n=Object(Ae.a)(t,2),o=n[0],l=n[1];return r.a.createElement("div",null,r.a.createElement(ve.a,{button:!0,onClick:function(){l(!0)}},r.a.createElement(be.a,null,r.a.createElement(ke.a,null)),r.a.createElement(he.a,{primary:"Buffer",secondary:"Find the area within X meters of the selected layer"})),r.a.createElement(Ge,{open:o,onClose:function(e){l(!1),a({type:"buffer",value:e})}}))},Me=Object(O.a)((function(e){return{root:{width:"100%"},details:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary},dividerFullWidth:{margin:"5px 0 0 ".concat(e.spacing(2),"px")}}})),Fe={analysisTriggered:U},Pe=Object(x.b)(null,Fe)((function(e){var a=e.analysisTriggered,t=Me();return r.a.createElement("div",{className:t.root},r.a.createElement(f.a,null,r.a.createElement(g.a,{expandIcon:r.a.createElement(b.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,{className:t.heading},"Analysis")),r.a.createElement(E.a,{className:t.details},r.a.createElement(le.a,{dense:!0,component:"nav","aria-label":"analysis"},r.a.createElement("li",null,r.a.createElement(h.a,{className:t.dividerFullWidth,color:"textSecondary",display:"block",variant:"caption"},"Input: Any one layer selected")),r.a.createElement(ze,{analysisTriggered:a}),r.a.createElement(Ee.a,null),r.a.createElement("li",null,r.a.createElement(h.a,{className:t.dividerFullWidth,color:"textSecondary",display:"block",variant:"caption"},"Input: One polygon layer selected")),r.a.createElement(ve.a,{button:!0,onClick:function(){return a({type:"dissolve"})}},r.a.createElement(be.a,null,r.a.createElement(je.a,null)),r.a.createElement(he.a,{primary:"Dissolve",secondary:"Merge overlapping polygons within layer"})),r.a.createElement(Ee.a,null),r.a.createElement("li",null,r.a.createElement(h.a,{className:t.dividerFullWidth,color:"textSecondary",display:"block",variant:"caption"},"Input: Two polygon layers selected")),r.a.createElement(ve.a,{button:!0,onClick:function(){return a({type:"intersection"})}},r.a.createElement(be.a,null,r.a.createElement(Le.a,null)),r.a.createElement(he.a,{primary:"Intersection",secondary:"Find area that is within both layers"})),r.a.createElement(ve.a,{button:!0,onClick:function(){return a({type:"difference"})}},r.a.createElement(be.a,null,r.a.createElement(Se.a,null)),r.a.createElement(he.a,{primary:"Difference",secondary:"Find the area within one input layer, but not the other"})),r.a.createElement(Ee.a,null),r.a.createElement("li",null,r.a.createElement(h.a,{className:t.dividerFullWidth,color:"textSecondary",display:"block",variant:"caption"},"Input: Any number of polygon layers selected")),r.a.createElement(ve.a,{button:!0,onClick:function(){return a({type:"union"})}},r.a.createElement(be.a,null,r.a.createElement(Re.a,null)),r.a.createElement(he.a,{primary:"Union",secondary:"Find the area within all input layers"}))))))})),Ye=t(478),We=t(214),Ve={selectColor:K},He=Object(x.b)((function(e){return{activeColor:e.geometry.activeColor}}),Ve)((function(e){var a=e.activeColor,t=e.selectColor;return r.a.createElement("div",null,r.a.createElement(We.SliderPicker,{color:a,onChangeComplete:function(e){return t(e.hex)}}))})),Be=Object(O.a)((function(e){return{root:{padding:e.spacing(3,2),width:"90%",margin:"auto",backgroundColor:"#e8e8e8"}}})),Je=function(){var e=Be();return r.a.createElement(Ye.a,{className:e.root},r.a.createElement(He,null))},Ue=Object(O.a)((function(e){return{root:{width:"100%"},details:{display:"block"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular,flexBasis:"33.33%",flexShrink:0},secondaryHeading:{fontSize:e.typography.pxToRem(15),color:e.palette.text.secondary}}})),Xe=function(){var e=Ue();return r.a.createElement("div",{className:e.root},r.a.createElement(f.a,null,r.a.createElement(g.a,{expandIcon:r.a.createElement(b.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(h.a,{className:e.heading},"Color/Visibility")),r.a.createElement(E.a,{className:e.details},r.a.createElement(Je,null))))};function Ze(){var e=Object(y.a)(["\n  grid-column: 1;\n  grid-row-start: 2;\n  grid-row-end: 3;\n  background-color: #4e3a4c;\n  overflow: auto;\n"]);return Ze=function(){return e},e}var qe=Object(d.a)((function(e){var a=e.className;return r.a.createElement("div",{className:a},r.a.createElement(oe,null),r.a.createElement(ge,null),r.a.createElement(Pe,null),r.a.createElement(Xe,null))}))(Ze());function Qe(){var e=Object(y.a)(["\n  grid-column-start: 1;\n  grid-column-end: 4;\n  grid-row-start: 1;\n  grid-row-end: 1;\n  background-color: #4e3a4c;\n"]);return Qe=function(){return e},e}var Ke=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),$e=Object(d.a)((function(e){var a=e.className;e.triggeredAnalysis,Ke();return r.a.createElement("div",{className:a})}))(Qe()),ea=Object(x.b)((function(e){return{triggeredAnalysis:e.geometry.triggeredAnalysis}}))($e),aa=t(137),ta=t.n(aa);function na(){var e=Object(y.a)(["\n  grid-column-start: 2;\n  grid-column-end: 4;\n  grid-row-start: 2;\n  grid-row-end: 4;\n"]);return na=function(){return e},e}ta.a.accessToken="pk.eyJ1IjoidG9vbGF0ZSIsImEiOiJjamNraXM3cWMwdHJ4MnFwZ2tuOXdlM29tIn0.YCpu-_2IAVCvVJEEit8WGQ";var ra=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(c.a)(this,Object(s.a)(a).call(this,e))).state={lng:e.location.lng,lat:e.location.lat,zoom:e.location.zoom,activeLayers:[]},t}return Object(u.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=this.state,t=a.lng,n=a.lat,r=a.zoom;this._map=new ta.a.Map({container:this.mapContainer,style:"mapbox://styles/mapbox/streets-v9",center:[t,n],zoom:r});var o=this._map;o.on("move",(function(){var a=o.getCenter(),t=a.lng,n=a.lat;e.setState({lng:t.toFixed(4),lat:n.toFixed(4),zoom:o.getZoom().toFixed(2)})}))}},{key:"componentDidUpdate",value:function(e){var a=this,t=this.props,n=t.layers,r=e.layers;if(n.length>r.length)for(var o=n.length-r.length,l=0;l<o;l++){var i=n[l];switch(i.type){case"point":this.addPointLayer(i);break;case"linestring":this.addLineLayer(i);break;case"polygon":this.addPolygonLayer(i);break;default:console.log("invalid layer type")}}else t.activeColor!==e.activeColor&&t.selectedLayers.forEach((function(e){var n=t.layers.find((function(a){return a.name===e}));a.setColorOfLayer(n)})),t.layers.forEach((function(e){a.updateVisibility(e)}));t.layersToDelete.length>0&&t.layersToDelete.forEach((function(e){return a.removeMapLayer(e)})),t.layerToMove>=0&&this.updateLayerOrder(t.layerToMove)}},{key:"addPointLayer",value:function(e){var a=this._map.addLayer({id:e.name,type:"circle",source:{type:"geojson",data:e.geometry},paint:{"circle-color":e.color}});this.setState({activeLayers:[].concat(Object(T.a)(this.state.activeLayers),[a])})}},{key:"addLineLayer",value:function(e){var a=this._map.addLayer({id:e.name,type:"line",source:{type:"geojson",data:e.geometry},paint:{"line-color":e.color}});this.setState({activeLayers:[].concat(Object(T.a)(this.state.activeLayers),[a])})}},{key:"addPolygonLayer",value:function(e){var a=this._map.addLayer({id:e.name,type:"fill",source:{type:"geojson",data:e.geometry},paint:{"fill-color":e.color,"fill-outline-color":"#000000"}});this.setState({activeLayers:[].concat(Object(T.a)(this.state.activeLayers),[a])})}},{key:"removeMapLayer",value:function(e){this._map.getSource(e.name)&&(this._map.removeLayer(e.name),this._map.removeSource(e.name),this.props.delete_finalize())}},{key:"setColorOfLayer",value:function(e){var a="";"point"===e.type?a="circle-color":"polygon"===e.type&&(a="fill-color"),this._map.setPaintProperty(e.name,a,e.color)}},{key:"updateLayerOrder",value:function(e){var a,t=this.props.layers,n=t[e].name;a=0===e?null:t[e-1].name,this._map.moveLayer(n,a)}},{key:"updateVisibility",value:function(e){var a=e.visible?"visible":"none";this._map.setLayoutProperty(e.name,"visibility",a)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:this.props.className,ref:function(a){return e.mapContainer=a}})}}]),a}(n.Component),oa=Object(d.a)(ra)(na()),la={delete_finalize:Z},ia=Object(x.b)((function(e){return{selectedLayers:e.geometry.selectedLayers,layers:e.geometry.layers,layersToDelete:e.geometry.layersToDelete,layerToMove:e.geometry.layerToMove,activeColor:e.geometry.activeColor}}),la)(oa),ca=t(215),sa=function(e){function a(){return Object(l.a)(this,a),Object(c.a)(this,Object(s.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(m,null,r.a.createElement(ea,null),r.a.createElement(qe,null),r.a.createElement(ia,{location:ca.oslo})))}}]),a}(n.Component);Object(o.render)(r.a.createElement(x.a,{store:J},r.a.createElement(sa,null)),document.getElementById("root"))}},[[225,1,2]]]);
//# sourceMappingURL=main.aae4ab20.chunk.js.map